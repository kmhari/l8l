{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "InterviewEvaluationReport",
  "type": "object",
  "properties": {
    "overall_assessment": {
      "type": "object",
      "properties": {
        "recommendation": {
          "type": "string",
          "enum": ["Strong Hire", "Hire", "No Hire", "Strong No Hire"],
          "description": "Final hiring recommendation"
        },
        "confidence": {
          "type": "string",
          "enum": ["High", "Medium", "Low"],
          "description": "Confidence level in the assessment"
        },
        "summary": {
          "type": "string",
          "description": "Brief summary of candidate performance"
        }
      },
      "required": ["recommendation", "confidence", "summary"],
      "additionalProperties": false
    },
    "question_analysis": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "question_id": {
            "type": "string",
            "description": "Identifier for the question"
          },
          "question_text": {
            "type": "string",
            "description": "The actual question asked"
          },
          "answer_quality": {
            "type": "object",
            "properties": {
              "relevance_score": {
                "type": "number",
                "description": "How well the candidates answer has addressed the question 0 - 100"
              },
              "score_justification": {
                "type": "object",
                "properties": {
                  "relevance_reasoning": {
                    "type": "string",
                    "description": "Detailed explanation of why the relevance_score was assigned, citing specific parts of the candidate's response"
                  },
                  "completeness_reasoning": {
                    "type": "string",
                    "description": "Explanation of why the completeness rating was given, identifying what aspects were covered or missing"
                  },
                  "clarity_reasoning": {
                    "type": "string",
                    "description": "Justification for the clarity rating, explaining communication effectiveness"
                  },
                  "depth_reasoning": {
                    "type": "string",
                    "description": "Reasoning for the depth assessment, explaining the level of understanding demonstrated"
                  },
                  "key_evidence": {
                    "type": "array",
                    "items": {"type": "string"},
                    "description": "Specific quotes or paraphrases from the candidate's response that support the scoring"
                  }
                },
                "required": ["relevance_reasoning", "completeness_reasoning", "clarity_reasoning", "depth_reasoning", "key_evidence"],
                "additionalProperties": false
              },
              "completeness": {
                "type": "string",
                "enum": ["Complete", "Partial", "Incomplete", "Not Addressed"],
                "description": "Completeness of the response"
              },
              "clarity": {
                "type": "string",
                "enum": ["Excellent", "Good", "Fair", "Poor"],
                "description": "Clarity and structure of the answer"
              },
              "depth": {
                "type": "string",
                "enum": ["Deep", "Moderate", "Surface", "None"],
                "description": "Depth of understanding demonstrated"
              },
              "evidence_provided": {
                "type": "boolean",
                "description": "Whether specific examples or evidence were provided from the transcript"
              }
            },
            "required": ["relevance_score", "score_justification", "completeness", "clarity", "depth", "evidence_provided"],
            "additionalProperties": false
          },
          "strengths": {
            "type": "array",
            "items": {"type": "string"},
            "description": "Strengths demonstrated in this response"
          },
          "concerns": {
            "type": "array",
            "items": {"type": "string"},
            "description": "Concerns or gaps identified in this response"
          },
          "green_flags": {
            "type": "array",
            "items": {"type": "string"},
            "description": "Positive indicators or strong points demonstrated in this response"
          },
          "red_flags": {
            "type": "array",
            "items": {"type": "string"},
            "description": "Warning signs or concerning aspects identified in this response"
          },
          "exceptional_responses": {
            "type": "array",
            "items": {"type": "string"},
            "description": "Outstanding answers or unique strengths demonstrated in this specific response"
          },
          "inconsistencies": {
            "type": "array",
            "items": {"type": "string"},
            "description": "Inconsistencies between resume, job requirements, and this specific response"
          },
          "conversation": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "idx": {"type": "integer", "description": "Turn index in the conversation"},
                "role": {"type": "string", "description": "Speaker role (agent/user)"},
                "message": {"type": "string", "description": "The actual message content"},
                "time": {"type": "number", "description": "Timestamp when message started"},
                "endTime": {"type": "number", "description": "Timestamp when message ended"},
                "duration": {"type": "number", "description": "Duration of the message in milliseconds"},
                "secondsFromStart": {"type": "number", "description": "Seconds from start of interview"}
              },
              "required": ["idx", "role", "message", "time", "endTime", "duration", "secondsFromStart"],
              "additionalProperties": false
            },
            "description": "Complete conversation turns for this question group"
          }
        },
        "required": ["question_id", "question_text", "answer_quality", "strengths", "concerns", "green_flags", "red_flags", "exceptional_responses", "inconsistencies", "conversation"],
        "additionalProperties": false
      }
    },
    "communication_assessment": {
      "type": "object",
      "properties": {
        "verbal_articulation": {
          "type": "string",
          "enum": ["Excellent", "Good", "Fair", "Poor"],
          "description": "Quality of verbal expression"
        },
        "logical_flow": {
          "type": "string",
          "enum": ["Excellent", "Good", "Fair", "Poor"],
          "description": "Logical organization of thoughts"
        },
        "professional_vocabulary": {
          "type": "string",
          "enum": ["Excellent", "Good", "Fair", "Poor"],
          "description": "Use of appropriate technical and professional vocabulary"
        },
        "cultural_fit_indicators": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Positive or negative cultural fit indicators observed"
        }
      },
      "required": ["verbal_articulation", "logical_flow", "professional_vocabulary", "cultural_fit_indicators"],
      "additionalProperties": false
    },
    "critical_analysis": {
      "type": "object",
      "properties": {
        "problem_solving_approach": {
          "type": "string",
          "description": "Overall assessment of candidate's problem-solving methodology across all responses"
        }
      },
      "required": ["problem_solving_approach"],
      "additionalProperties": false
    },
    "improvement_recommendations": {
      "type": "array",
      "items": {"type": "string"},
      "description": "Specific, actionable recommendations for candidate improvement"
    }
  },
  "required": [
    "overall_assessment",
    "question_analysis",
    "communication_assessment",
    "critical_analysis",
    "improvement_recommendations"
  ],
  "additionalProperties": false
}