{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "SkillsCompetencyAssessment",
  "type": "object",
  "properties": {
    "competency_mapping": {
      "type": "array",
      "description": "Comprehensive assessment of all required skill areas based on the entire interview transcript",
      "items": {
        "type": "object",
        "properties": {
          "skill_area": {
            "type": "string",
            "description": "Name of the skill area being evaluated"
          },
          "overall_assessment": {
            "type": "string",
            "enum": ["Expert", "Advanced", "Intermediate", "Basic", "Entry", "Not Demonstrated"],
            "description": "Overall proficiency level for this skill area based on holistic analysis"
          },
          "skill_score": {
            "type": "number",
            "description": "Numerical score (0-100) representing the candidate's proficiency in this skill area"
          },
          "assessment_justification": {
            "type": "object",
            "properties": {
              "proficiency_reasoning": {
                "type": "string",
                "description": "Detailed explanation of why this proficiency level was assigned, citing specific evidence from the interview transcript"
              },
              "requirements_reasoning": {
                "type": "string",
                "description": "Explanation of whether the candidate meets job requirements for this skill area and why"
              },
              "confidence_reasoning": {
                "type": "string",
                "description": "Justification for the confidence level based on the quality and quantity of evidence available"
              },
              "key_evidence": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "question_id": {
                      "type": "string",
                      "description": "Question identifier (e.g., Q1, Q2, etc.)"
                    },
                    "question_text": {
                      "type": "string",
                      "description": "The specific question that was asked"
                    },
                    "transcript_quote": {
                      "type": "string",
                      "description": "Direct quote from the candidate's response"
                    },
                    "evidence_type": {
                      "type": "string",
                      "enum": ["demonstration", "partial_knowledge", "misconception", "gap"],
                      "description": "Type of evidence this represents"
                    },
                    "assessment_note": {
                      "type": "string",
                      "description": "Brief assessment of what this evidence shows for this skill area"
                    }
                  },
                  "required": ["question_id", "question_text", "transcript_quote", "evidence_type", "assessment_note"],
                  "additionalProperties": false
                },
                "description": "Structured evidence with question references and transcript quotes that support the skill area assessment"
              },
              "evidence_gaps": {
                "type": "array",
                "items": {"type": "string"},
                "description": "Areas where more evidence would have been helpful for a more confident assessment"
              }
            },
            "required": ["proficiency_reasoning", "requirements_reasoning", "confidence_reasoning", "key_evidence", "evidence_gaps"],
            "additionalProperties": false
          },
          "meets_requirements": {
            "type": "boolean",
            "description": "Whether the candidate meets the job requirements for this skill area"
          },
          "confidence": {
            "type": "string",
            "enum": ["High", "Medium", "Low"],
            "description": "Confidence level in this assessment based on available evidence"
          },
          "assessment_notes": {
            "type": "array",
            "items": {"type": "string"},
            "description": "3-5 key bullet points summarizing performance, strengths, evidence, and gaps in this skill area"
          },
          "sub_skills": {
            "type": "array",
            "description": "Individual assessment of each sub-skill within this skill area",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "Name of the sub-skill"
                },
                "proficiency": {
                  "type": "string",
                  "enum": ["Expert", "Advanced", "Intermediate", "Basic", "Entry", "Not Demonstrated"],
                  "description": "Demonstrated proficiency level based on transcript evidence"
                },
                "sub_skill_score": {
                  "type": "number",
                  "description": "Numerical score (0-100) representing the candidate's proficiency in this specific sub-skill"
                },
                "sub_skill_justification": {
                  "type": "object",
                  "properties": {
                    "proficiency_reasoning": {
                      "type": "string",
                      "description": "Detailed explanation of why this proficiency level was assigned for this specific sub-skill"
                    },
                    "demonstration_reasoning": {
                      "type": "string",
                      "description": "Explanation of whether this sub-skill was clearly demonstrated or inferred, and the basis for this assessment"
                    },
                    "confidence_reasoning": {
                      "type": "string",
                      "description": "Justification for the confidence level in this sub-skill assessment"
                    }
                  },
                  "required": ["proficiency_reasoning", "demonstration_reasoning", "confidence_reasoning"],
                  "additionalProperties": false
                },
                "demonstrated": {
                  "type": "boolean",
                  "description": "Whether this sub-skill was clearly demonstrated or inferred from the interview"
                },
                "confidence": {
                  "type": "string",
                  "enum": ["High", "Medium", "Low"],
                  "description": "Confidence level in this assessment"
                },
                "evidence": {
                  "anyOf": [
                    {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "question_id": {
                            "type": "string",
                            "description": "Question identifier (e.g., Q1, Q2, etc.)"
                          },
                          "question_text": {
                            "type": "string",
                            "description": "The specific question that was asked"
                          },
                          "transcript_quote": {
                            "type": "string",
                            "description": "Direct quote from the candidate's response"
                          },
                          "evidence_type": {
                            "type": "string",
                            "enum": ["demonstration", "partial_knowledge", "misconception", "gap"],
                            "description": "Type of evidence this represents"
                          },
                          "assessment_note": {
                            "type": "string",
                            "description": "Brief assessment of what this evidence shows"
                          }
                        },
                        "required": ["question_id", "question_text", "transcript_quote", "evidence_type", "assessment_note"],
                        "additionalProperties": false
                      }
                    },
                    {"type": "null"}
                  ],
                  "description": "Structured evidence with question references and transcript quotes that support this sub-skill assessment"
                },
                "gaps_identified": {
                  "anyOf": [
                    {"type": "array", "items": {"type": "string"}},
                    {"type": "null"}
                  ],
                  "description": "Specific knowledge gaps or areas for improvement identified"
                }
              },
              "required": ["name", "proficiency", "sub_skill_score", "sub_skill_justification", "demonstrated", "confidence", "evidence", "gaps_identified"],
              "additionalProperties": false
            }
          }
        },
        "required": ["skill_area", "overall_assessment", "skill_score", "assessment_justification", "meets_requirements", "confidence", "assessment_notes", "sub_skills"],
        "additionalProperties": false
      }
    },
    "overall_skills_summary": {
      "type": "object",
      "description": "High-level summary of the candidate's skills competency",
      "properties": {
        "total_skill_areas_assessed": {
          "type": "integer",
          "description": "Total number of skill areas evaluated"
        },
        "skill_areas_meeting_requirements": {
          "type": "integer",
          "description": "Number of skill areas where candidate meets requirements"
        },
        "strongest_skill_areas": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Top 3 skill areas where candidate demonstrated strongest competency"
        },
        "development_areas": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Top 3 skill areas that would benefit from development"
        },
        "overall_competency_level": {
          "type": "string",
          "enum": ["Expert", "Advanced", "Intermediate", "Basic", "Entry"],
          "description": "Overall competency level across all assessed skills"
        },
        "hiring_recommendation_skills": {
          "type": "string",
          "enum": ["Strong Hire", "Hire", "Conditional Hire", "No Hire"],
          "description": "Hiring recommendation based purely on skills competency assessment"
        },
        "key_findings": {
          "type": "array",
          "items": {"type": "string"},
          "description": "3-5 key findings from the comprehensive skills assessment"
        }
      },
      "required": [
        "total_skill_areas_assessed",
        "skill_areas_meeting_requirements",
        "strongest_skill_areas",
        "development_areas",
        "overall_competency_level",
        "hiring_recommendation_skills",
        "key_findings"
      ],
      "additionalProperties": false
    }
  },
  "required": ["competency_mapping", "overall_skills_summary"],
  "additionalProperties": false
}